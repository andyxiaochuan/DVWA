# DVMA SQLite Setup

## 数据库配置

DVMA应用程序现在使用SQLite数据库，无需任何外部数据库设置。

### 自动数据库创建

当您启动服务器时，应用程序会自动：
- 创建SQLite数据库文件 (`server/dvma.db`)
- 创建所有必要的表（users, products, messages）
- 插入示例数据

### 默认测试账户

应用程序会自动创建以下测试账户：

| 用户名 | 密码 | 角色 |
|--------|------|------|
| admin  | admin123 | admin |
| user   | user123 | user |

### 数据库文件位置

SQLite数据库文件位于：
```
server/dvma.db
```

### 手动数据库重置

如果需要重置数据库，只需：
1. 停止服务器
2. 删除 `server/dvma.db` 文件
3. 重新启动服务器

### 优势

使用SQLite的优势：
- ✅ 无需安装MySQL或其他数据库
- ✅ 零配置
- ✅ 自动创建数据库和表
- ✅ 便于测试和演示
- ✅ 文件式数据库，易于管理

### 技术细节

- 数据库：SQLite 3
- 文件位置：`server/dvma.db`
- 自动创建：首次启动时自动创建
- 表结构：与MySQL版本完全兼容

## 故障排除

### 常见问题

1. **数据库文件权限问题**
   - 确保应用程序有写入 `server` 目录的权限

2. **数据库损坏**
   - 删除 `server/dvma.db` 文件并重新启动服务器

3. **表创建失败**
   - 检查控制台错误信息
   - 确保有足够的磁盘空间

### 验证数据库

您可以使用SQLite浏览器工具查看数据库内容：
- [DB Browser for SQLite](https://sqlitebrowser.org/)
- 或使用命令行：`sqlite3 server/dvma.db`

## 安全注意事项

⚠️ **重要**：这是一个用于教育目的的易受攻击的应用程序。

- 不要在生产环境中使用这些凭据
- 应用程序使用弱密码和不安全的配置
- 始终在生产环境中使用强密码
- SQLite数据库文件包含敏感信息，请妥善保管
